- metadata:
    annotations:
      htnn.mosn.io/info: '{"httpfilterpolicies":["default/policy"]}'
    creationTimestamp: null
    name: htnn-h-default.local
  spec:
    configPatches:
    - applyTo: HTTP_ROUTE
      match:
        routeConfiguration:
          vhost:
            name: default.local:1234
            route:
              name: default.http.0
      patch:
        operation: MERGE
        value:
          typed_per_filter_config:
            htnn.filters.http.golang:
              '@type': type.googleapis.com/envoy.extensions.filters.http.golang.v3alpha.ConfigsPerRoute
              plugins_config:
                fm:
                  config:
                    '@type': type.googleapis.com/xds.type.v3.TypedStruct
                    value:
                      plugins:
                      - config:
                          hostName: goldfish
                        name: animal
    - applyTo: HTTP_ROUTE
      match:
        routeConfiguration:
          vhost:
            name: default.local:1234
            route:
              name: default.http.1
      patch:
        operation: MERGE
        value:
          typed_per_filter_config:
            htnn.filters.http.golang:
              '@type': type.googleapis.com/envoy.extensions.filters.http.golang.v3alpha.ConfigsPerRoute
              plugins_config:
                fm:
                  config:
                    '@type': type.googleapis.com/xds.type.v3.TypedStruct
                    value:
                      plugins:
                      - config:
                          hostName: goldfish
                        name: animal
  status: {}
- metadata:
    annotations:
      htnn.mosn.io/info: '{"httpfilterpolicies":["default/policy"]}'
    creationTimestamp: null
    name: htnn-h-htnn.exp.com
  spec:
    configPatches:
    - applyTo: HTTP_ROUTE
      match:
        routeConfiguration:
          vhost:
            name: htnn.exp.com:1234
            route:
              name: default.http.0
      patch:
        operation: MERGE
        value:
          typed_per_filter_config:
            htnn.filters.http.golang:
              '@type': type.googleapis.com/envoy.extensions.filters.http.golang.v3alpha.ConfigsPerRoute
              plugins_config:
                fm:
                  config:
                    '@type': type.googleapis.com/xds.type.v3.TypedStruct
                    value:
                      plugins:
                      - config:
                          hostName: goldfish
                        name: animal
    - applyTo: HTTP_ROUTE
      match:
        routeConfiguration:
          vhost:
            name: htnn.exp.com:1234
            route:
              name: default.http.1
      patch:
        operation: MERGE
        value:
          typed_per_filter_config:
            htnn.filters.http.golang:
              '@type': type.googleapis.com/envoy.extensions.filters.http.golang.v3alpha.ConfigsPerRoute
              plugins_config:
                fm:
                  config:
                    '@type': type.googleapis.com/xds.type.v3.TypedStruct
                    value:
                      plugins:
                      - config:
                          hostName: goldfish
                        name: animal
  status: {}
